@using KurbSide.Utilities
@{
    var loggedInType = TempData["loggedInType"];
    Business business = new Business();
    Member member = new Member();

    switch ((KSCurrentUser.AccountType) loggedInType)
    {
        case KSCurrentUser.AccountType.MEMBER:
            member = (Member) TempData["loggedInMember"];
            break;
        case KSCurrentUser.AccountType.BUSINESS:
            business = (Business) TempData["loggedInBusiness"];
            break;
    }
}

<div class="navbar-collapse collapse d-sm-inline-flex flex-sm-row-reverse">
    <partial name="_LoginPartial"/>
    @switch ((KSCurrentUser.AccountType) loggedInType)
    {
        case KSCurrentUser.AccountType.VISITOR:
        {
                @*<ul class="navbar-nav flex-grow-1">
                        <li class="nav-item">
                            <a id="navbar-home" name="navbar-home" class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Index">Home</a>
                        </li>
                    </ul>*@
            break;
        }
        case KSCurrentUser.AccountType.MEMBER:
        {
                @*<ul id="navbar-member-links" class="navbar-nav flex-grow-1">
                        <li class="nav-item">
                            <a id="navbar-home" name="navbar-home" class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Index">Home</a>
                        </li>
                    </ul>*@
            break;
        }
        case KSCurrentUser.AccountType.BUSINESS:
        {
            <ul id="navbar-business-links" class="navbar-nav flex-grow-1">
                <li class="nav-item">
                    <a class="nav-link text-dark" asp-area="" asp-controller="Business" asp-action="Index">
                        <strong>@business.BusinessName</strong>
                        @{
                            var openForBusiness = (bool) TempData["openForBusiness"];
                            if (openForBusiness)
                            {
                                <span title="Accepting Orders" class=" badge badge-success">Accepting Orders</span>
                            }
                            else
                            {
                                <span title="Not Accepting Orders" class="badge badge-danger">Closed</span>
                            }
                        }
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-dark" asp-area="" asp-controller="Business" asp-action="Index">
                        Dashboard
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-dark" asp-area="" asp-controller="Business" asp-action="Catalogue" id="navbar-catalogue">Catalogue</a>
                </li>
                <li class="nav-item">
                    <span class="nav-link text-secondary" asp-area="" asp-controller="Business" asp-action="Orders">
                        Orders (Coming Soon)
                        @{
                            var orderCount = TempData["orderCount"];
                            orderCount = orderCount == null ? 0 : orderCount;

                            if ((int) orderCount > 0)
                            {
                                <span class="badge badge-primary">@((int) orderCount)</span>
                            }
                        }
                    </span>
                </li>
            </ul>
            break;
        }
    }

</div>